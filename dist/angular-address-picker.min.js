angular.module("ByGiro.addressPicker",["ui.bootstrap"]).directive("bgapAddressPicker",["$window","$parse","$compile",function(e,r,t){function a(e,r){function a(e,r,t,a,n){n(function(e){r.append(e)});var s="undefined"!=typeof jQuery?jQuery:angular.element,i={};t.bgapOptions&&(i=e.$parent[t.bgapOptions]),s(r).addressPickerByGiro(i).on("selected.addressPickerByGiro",function(r,t){var a=e.$root.$$phase;"$apply"==a||"$digest"==a?e.address=t.cleanData:e.$apply(function(){e.address=t.cleanData})}),e.getLocation=function(e){return s(r).addressPickerByGiro("source",e).then(function(e){return e})},e.addressSelected=function(e){s(r).addressPickerByGiro("updater",e)},d(e)}e.attr("typeahead-min-length","3"),e.attr("typeahead","address for address in getLocation($viewValue)"),e.attr("typeahead-on-select","addressSelected($item, $model, $label)"),r.ngModel||e.attr("ng-model","formattedAddress");var d=t(e,null,1500);return a}return{compile:a,priority:1500,restrict:"A",scope:{address:"=bgapAddress"},terminal:!0,transclude:!0}}]);